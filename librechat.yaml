# For more information, see the Configuration Guide:
# https://www.librechat.ai/docs/configuration/librechat_yaml

# Configuration version (required)
version: 1.1.7

# Cache settings: Set to true to enable caching
cache: true

# Custom interface configuration
interface:
  # Privacy policy settings
  privacyPolicy:
    externalUrl: 'https://librechat.ai/privacy-policy'
    openNewTab: true

  # Terms of service
  termsOfService:
    externalUrl: 'https://www.university.edu/acceptable-use'
    openNewTab: true
    modalAcceptance: true
    modalTitle: "University Chat Usage Policy - REQUIRED AGREEMENT"
    modalContent: |
      # University Chat Usage Policy and Data Restrictions

      *Effective Date: January 2, 2025*

      ## IMPORTANT: You Must Accept This Agreement Before Using University Chat

      By clicking "Accept" below, you certify and agree to the following:

      ### 1. Authorized Use

      - ‚úÖ You are affiliated with the university for legitimate university business
      - ‚úÖ This system is for research, education, and administrative purposes only
      - ‚úÖ You will use this system in compliance with the university's Acceptable Use Policy
      - ‚ö†Ô∏è All activities on this system may be monitored and audited

      ### 2. PROHIBITED DATA - You Must NOT Enter:

      **The following data types are strictly prohibited in University Chat:**

      - ‚ùå **Personal Health Information (PHI)** - HIPAA regulated data
      - ‚ùå **Personally Identifiable Information (PII)** - Social Security Numbers, driver's license numbers, financial account numbers
      - ‚ùå **Student Educational Records** - FERPA protected data
      - ‚ùå **Financial Data** - Credit card numbers, bank account information, GLBA regulated data
      - ‚ùå **Export-Controlled Information** - ITAR/EAR regulated technical data
      - ‚ùå **Classified Information** - Any classified or confidential research data
      - ‚ùå **Authentication Credentials** - Passwords, API keys, access tokens
      - ‚ùå **Proprietary Third-Party Data** - Data belonging to external organizations without permission

      ### 3. Data Handling and Privacy

      - üìù Your conversations are temporarily stored and automatically deleted after 180 days
      - üîç Your username and display name are logged for audit purposes
      - ‚òÅÔ∏è Your queries are sent to cloud AI providers (AWS Bedrock, Azure OpenAI) or on-premises systems
      - üîí Cloud providers do not use your data for model training per their enterprise agreements
      - üìä System administrators may review logs for security and troubleshooting purposes

      ### 4. Acceptable Use

      You agree to:
      - Use University Chat only for legitimate research, education, or administrative work
      - Respect intellectual property rights and avoid plagiarism
      - Not attempt to bypass security controls or access unauthorized data
      - Report any security concerns to security@university.edu
      - Not use University Chat for commercial purposes or personal business

      ### 5. Consequences of Violations

      **Violations of this policy may result in:**
      - Immediate account suspension
      - Reporting to IT Security
      - Disciplinary action per university policies
      - Legal action if laws are violated

      ### 6. Your Responsibilities

      - üéì **Verify AI-generated content** - LLM responses may contain errors or hallucinations
      - üìö **Cite sources appropriately** - AI-assisted work must be properly attributed
      - üîê **Protect your credentials** - Do not share your password
      - üö® **Report incidents** - Contact support if you accidentally enter sensitive data

      ### 7. System Availability

      - This is a pilot system - availability is not guaranteed
      - System may be unavailable during maintenance windows
      - Data may be lost due to system issues (conversations are temporary by design)

      ---

      **By clicking "Accept", you acknowledge that you have read, understood, and agree to comply with this Usage Policy.**

      **If you do not accept these terms, click "Decline" and do not use this system.**

      For questions, contact: IT Support
      For security concerns, contact: security@university.edu


# Registration Configuration
# Phase 1 (Pilot): Just-In-Time (JIT) Provisioning via LDAP
# Access restricted to university.edu domain only
registration:
  socialLogins: []  # Disabled - LDAP authentication only
  allowedDomains:
    - "university.edu"  # Only university email addresses permitted

  # Phase 2 (Production): Uncomment LDAP group restriction in .env file
  # and consider removing or tightening allowedDomains

# rateLimits:
#   fileUploads:
#     ipMax: 100
#     ipWindowInMinutes: 60  # Rate limit window for file uploads per IP
#     userMax: 50
#     userWindowInMinutes: 60  # Rate limit window for file uploads per user
#   conversationsImport:
#     ipMax: 100
#     ipWindowInMinutes: 60  # Rate limit window for conversation imports per IP
#     userMax: 50
#     userWindowInMinutes: 60  # Rate limit window for conversation imports per user

fileConfig:
  endpoints:
    default:
      fileLimit: 10
      totalSizeLimit: 50
    bedrock:
      fileLimit: 25
      totalSizeLimit: 50

# Definition of custom endpoints
endpoints:
  bedrock:
    #availableRegions:
    #  - "us-west-1"
    #  - "us-west-2"
    #  - "us-east-1"
    #  - "us-east-2"
    streamRate: 75 
    titleModel: 'anthropic.claude-3-haiku-20240307-v1:0'
  
  # custom:
  #   - name: "Llama-CPP A40"
  #     apiKey: "${YOUR_API_KEY}"
  #     baseURL: "http://127.0.0.1:13013/llama-cpp-server/v1"
  #     models:
  #       default: ["Meta-Llama-3.1-70B"]
  #       fetch: true
  #     titleConvo: true
  #     titleModel: "Meta-Llama-3.1-70B"
  #     summarize: false
  #     summaryModel: "Meta-Llama-3.1-70B"
  #     forcePrompt: false
  #     modelDisplayLabel: "Llama-CPP A40"

  #   - name: "Llama-CPP A100"
  #     apiKey: "${YOUR_API_KEY}"
  #     baseURL: "http://127.0.0.1:13013/a100-llama-cpp-server/v1"
  #     models:
  #       default: ["Meta-Llama-3.1-405B"]
  #       fetch: true
  #     titleConvo: true
  #     titleModel: "Meta-Llama-3.1-405B"
  #     summarize: false
  #     summaryModel: "Meta-Llama-3.1-405B"
  #     forcePrompt: false
  #     modelDisplayLabel: "Llama-CPP A100"
